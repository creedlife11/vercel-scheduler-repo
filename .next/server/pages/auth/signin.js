"use strict";(()=>{var e={};e.id=65,e.ids=[65,888,660],e.modules={1323:(e,r)=>{Object.defineProperty(r,"l",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},6401:(e,r,t)=>{t.r(r),t.d(r,{config:()=>w,default:()=>v,getServerSideProps:()=>j,getStaticPaths:()=>y,getStaticProps:()=>P,reportWebVitals:()=>A,routeModule:()=>I,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>z,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>E,unstable_getStaticProps:()=>C});var i={};t.r(i),t.d(i,{default:()=>f,getServerSideProps:()=>S});var o=t(7093),n=t(5244),s=t(1323),a=t(2899),l=t.n(a),d=t(6814),u=t(997);let c=require("next-auth/next"),p=require("next-auth");var g=t.n(p);let m=require("next-auth/providers/credentials"),x={providers:[t.n(m)()({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let r=[{id:"1",email:"demo@example.com",password:"demo123",name:"Demo User",role:"ADMIN"},{id:"2",email:"editor@example.com",password:"editor123",name:"Editor User",role:"EDITOR"},{id:"3",email:"user@example.com",password:"user123",name:"Regular User",role:"VIEWER"}].find(r=>r.email===e.email&&r.password===e.password);return r?{id:r.id,email:r.email,name:r.name,role:r.role,teams:[{id:"team-1",name:"Default Team",role:r.role}]}:null}})],session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:e,user:r})=>(r&&(e.role=r.role,e.teams=r.teams),e),session:async({session:e,token:r})=>(r&&e.user&&(e.user.id=r.sub,e.user.role=r.role,e.user.teams=r.teams),e)},pages:{signIn:"/auth/signin",error:"/auth/error"},debug:!1};g()(x);var h=t(1649),b=t(6689);function f({providers:e}){let[r,t]=(0,b.useState)(""),[i,o]=(0,b.useState)(""),[n,s]=(0,b.useState)(!1),[a,l]=(0,b.useState)(""),d=async e=>{e.preventDefault(),s(!0),l("");try{let e=await (0,h.signIn)("credentials",{email:r,password:i,redirect:!1,callbackUrl:"/"});console.log("Sign in result:",e),e?.error?l("Invalid credentials. Try demo@example.com / demo123"):e?.ok?window.location.href=e.url||"/":l("Sign in failed")}catch(e){console.error("Sign in error:",e),l("Sign in failed")}finally{s(!1)}};return(0,u.jsxs)("div",{style:{maxWidth:400,margin:"100px auto",padding:40,fontFamily:"Inter, system-ui, Arial",border:"1px solid #e5e7eb",borderRadius:8,backgroundColor:"white"},children:[u.jsx("h1",{style:{textAlign:"center",marginBottom:30},children:"Sign In"}),e?.google&&u.jsx("div",{style:{marginBottom:20},children:(0,u.jsxs)("button",{onClick:()=>(0,h.signIn)("google",{callbackUrl:"/"}),style:{width:"100%",padding:"12px 20px",backgroundColor:"#4285f4",color:"white",border:"none",borderRadius:6,fontSize:16,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[(0,u.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,u.jsxs)("div",{style:{textAlign:"center",margin:"20px 0",color:"#6b7280",position:"relative"},children:[u.jsx("span",{style:{backgroundColor:"white",padding:"0 10px",position:"relative",zIndex:1},children:"or"}),u.jsx("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:1,backgroundColor:"#e5e7eb",zIndex:0}})]}),(0,u.jsxs)("form",{onSubmit:d,children:[(0,u.jsxs)("div",{style:{marginBottom:16},children:[u.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14,fontWeight:500},children:"Email"}),u.jsx("input",{type:"email",value:r,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:4,fontSize:14}})]}),(0,u.jsxs)("div",{style:{marginBottom:20},children:[u.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14,fontWeight:500},children:"Password"}),u.jsx("input",{type:"password",value:i,onChange:e=>o(e.target.value),required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:4,fontSize:14}})]}),a&&u.jsx("div",{style:{color:"#dc2626",fontSize:14,marginBottom:16,textAlign:"center"},children:a}),u.jsx("button",{type:"submit",disabled:n,style:{width:"100%",padding:"12px 20px",backgroundColor:n?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:6,fontSize:16,cursor:n?"not-allowed":"pointer"},children:n?"Signing in...":"Sign In"})]}),(0,u.jsxs)("div",{style:{textAlign:"center",marginTop:20,fontSize:12,color:"#6b7280",backgroundColor:"#f3f4f6",padding:"12px",borderRadius:"6px"},children:[u.jsx("strong",{children:"Demo Accounts:"}),u.jsx("br",{}),"• demo@example.com / demo123 (Admin)",u.jsx("br",{}),"• editor@example.com / editor123 (Editor)",u.jsx("br",{}),"• user@example.com / user123 (Viewer)"]})]})}let S=async e=>await (0,c.getServerSession)(e.req,e.res,x)?{redirect:{destination:"/",permanent:!1}}:{props:{providers:await (0,h.getProviders)()??{}}},v=(0,s.l)(i,"default"),P=(0,s.l)(i,"getStaticProps"),y=(0,s.l)(i,"getStaticPaths"),j=(0,s.l)(i,"getServerSideProps"),w=(0,s.l)(i,"config"),A=(0,s.l)(i,"reportWebVitals"),C=(0,s.l)(i,"unstable_getStaticProps"),E=(0,s.l)(i,"unstable_getStaticPaths"),_=(0,s.l)(i,"unstable_getStaticParams"),k=(0,s.l)(i,"unstable_getServerProps"),z=(0,s.l)(i,"unstable_getServerSideProps"),I=new o.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/auth/signin",pathname:"/auth/signin",bundlePath:"",filename:""},components:{App:d.default,Document:l()},userland:i})},6814:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});var i=t(997),o=t(1649);function n({Component:e,pageProps:{session:r,...t}}){return i.jsx(o.SessionProvider,{session:r,children:i.jsx(e,{...t})})}},5244:(e,r)=>{var t;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[899],()=>t(6401));module.exports=i})();