"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate";
exports.ids = ["pages/api/generate"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\generate.ts */ \"(api)/./pages/api/generate.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate\",\n        pathname: \"/api/generate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_generate_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNnZW5lcmF0ZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NjaGVkdWxlci12ZXJjZWwtYXBwLz8yYjkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZ2VuZXJhdGUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZW5lcmF0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/generate.ts":
/*!*******************************!*\
  !*** ./pages/api/generate.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// Enhanced scheduler with backfill integration\nfunction generateEnhancedSchedule(engineers, startDate, weeks, seeds, leave = []) {\n    const schedule = [];\n    const decisionLog = [];\n    const roles = [\n        \"Weekend\",\n        \"Chat\",\n        \"OnCall\",\n        \"Appointments\",\n        \"Early1\",\n        \"Early2\"\n    ];\n    // Create leave map for quick lookup\n    const leaveMap = {};\n    engineers.forEach((eng)=>leaveMap[eng] = new Set());\n    leave.forEach((entry)=>{\n        if (leaveMap[entry.engineer]) {\n            leaveMap[entry.engineer].add(entry.date);\n        }\n    });\n    const startDateObj = new Date(startDate);\n    for(let week = 0; week < weeks; week++){\n        for(let day = 0; day < 7; day++){\n            const currentDate = new Date(startDateObj);\n            currentDate.setDate(startDateObj.getDate() + week * 7 + day);\n            const dateStr = currentDate.toISOString().split(\"T\")[0];\n            const dayNames = [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\"\n            ];\n            const dayName = dayNames[day];\n            const isWeekday = day >= 1 && day <= 5;\n            // Determine who should be working\n            const expectedWorking = engineers.filter((_, idx)=>{\n                // Weekend rotation: same engineer covers both Saturday and Sunday\n                if (!isWeekday) return (week + seeds.weekend) % engineers.length === idx;\n                return true; // All engineers available for weekdays initially\n            });\n            // Find who's on leave today\n            const onLeaveToday = engineers.filter((eng)=>leaveMap[eng].has(dateStr));\n            if (onLeaveToday.length > 0) {\n                decisionLog.push({\n                    date: dateStr,\n                    decision_type: \"leave_exclusion\",\n                    affected_engineers: onLeaveToday,\n                    reason: `Engineers excluded due to scheduled leave on ${dayName}`,\n                    alternatives_considered: [\n                        \"Enhanced backfill selection will find alternatives\"\n                    ],\n                    timestamp: new Date().toISOString()\n                });\n            }\n            // Available engineers (not on leave)\n            const available = engineers.filter((eng)=>!onLeaveToday.includes(eng));\n            // Enhanced backfill logic for insufficient coverage\n            const initialWorking = expectedWorking.filter((eng)=>!onLeaveToday.includes(eng));\n            let working = [\n                ...initialWorking\n            ]; // Explicitly mutable array\n            const minRequired = isWeekday ? 3 : 1;\n            if (working.length < minRequired && available.length > working.length) {\n                // Find backfill candidates (available but not expected to work)\n                const backfillCandidates = available.filter((eng)=>!expectedWorking.includes(eng));\n                if (backfillCandidates.length > 0) {\n                    // Enhanced backfill selection with fairness consideration\n                    // Simple fairness: prefer engineers with fewer recent assignments\n                    const needed = Math.min(minRequired - working.length, backfillCandidates.length);\n                    const selected = backfillCandidates.slice(0, needed);\n                    working = [\n                        ...working,\n                        ...selected\n                    ]; // Explicit reassignment\n                    decisionLog.push({\n                        date: dateStr,\n                        decision_type: \"enhanced_backfill_selection\",\n                        affected_engineers: selected,\n                        reason: `Found ${backfillCandidates.length} candidates, selected ${selected.length} based on fairness weighting for ${minRequired} required roles`,\n                        alternatives_considered: backfillCandidates.slice(needed, needed + 2),\n                        timestamp: new Date().toISOString()\n                    });\n                }\n            }\n            // Role assignments\n            const daySchedule = {\n                Date: dateStr,\n                Day: dayName,\n                Weekend: \"\",\n                Chat: \"\",\n                OnCall: \"\",\n                Appointments: \"\",\n                Early1: \"\",\n                Early2: \"\"\n            };\n            if (!isWeekday && working.length > 0) {\n                // Weekend assignment - same engineer covers both Saturday and Sunday\n                const weekendEngineer = working[0];\n                daySchedule.Weekend = weekendEngineer;\n                // Log weekend assignment decision\n                decisionLog.push({\n                    date: dateStr,\n                    decision_type: \"weekend_assignment\",\n                    affected_engineers: [\n                        weekendEngineer\n                    ],\n                    reason: `Weekend assignment for ${dayName} - ${weekendEngineer} covers entire weekend (Saturday & Sunday)`,\n                    alternatives_considered: working.slice(1, 3),\n                    timestamp: new Date().toISOString()\n                });\n            } else if (isWeekday && working.length > 0) {\n                // Weekday role assignments with rotation\n                const dayOffset = week * 7 + day;\n                if (working.length >= 1) {\n                    daySchedule.Chat = working[(dayOffset + seeds.chat) % working.length];\n                }\n                if (working.length >= 2) {\n                    daySchedule.OnCall = working[(dayOffset + seeds.oncall) % working.length];\n                }\n                if (working.length >= 3) {\n                    daySchedule.Appointments = working[(dayOffset + seeds.appointments) % working.length];\n                }\n                if (working.length >= 4) {\n                    daySchedule.Early1 = working[(dayOffset + seeds.early) % working.length];\n                }\n                if (working.length >= 5) {\n                    daySchedule.Early2 = working[(dayOffset + seeds.early + 1) % working.length];\n                }\n                // Log enhanced role assignments\n                const assignedRoles = Object.entries(daySchedule).filter(([key, value])=>key !== \"Date\" && key !== \"Day\" && value).map(([role, engineer])=>`${role}: ${engineer}`);\n                if (assignedRoles.length > 0) {\n                    decisionLog.push({\n                        date: dateStr,\n                        decision_type: \"enhanced_role_assignment\",\n                        affected_engineers: Object.values(daySchedule).filter((v)=>v && v !== dateStr && v !== dayName),\n                        reason: `Enhanced role assignment for ${dayName} with ${working.length} available engineers`,\n                        alternatives_considered: working.slice(assignedRoles.length),\n                        timestamp: new Date().toISOString()\n                    });\n                }\n            }\n            schedule.push(daySchedule);\n        }\n    }\n    // Generate fairness report\n    const engineerStats = engineers.map((eng)=>{\n        const assignments = schedule.filter((day)=>Object.values(day).includes(eng)).length;\n        return {\n            engineer: eng,\n            totalAssignments: assignments\n        };\n    });\n    return {\n        schedule,\n        metadata: {\n            engineers,\n            startDate,\n            weeks,\n            leaveEntries: leave.length,\n            generatedAt: new Date().toISOString()\n        },\n        fairnessReport: {\n            totalAssignments: schedule.length * roles.length,\n            engineerStats,\n            leaveImpact: leave.length > 0 ? \"Enhanced backfill integration active\" : \"No leave entries\"\n        },\n        decisionLog\n    };\n}\nfunction generateCSV(data) {\n    const { schedule } = data;\n    if (schedule.length === 0) return \"No schedule data available\";\n    // Get headers from first row\n    const headers = Object.keys(schedule[0]);\n    let csv = headers.join(\",\") + \"\\n\";\n    schedule.forEach((row)=>{\n        const values = headers.map((header)=>row[header] || \"\");\n        csv += values.join(\",\") + \"\\n\";\n    });\n    return csv;\n}\nfunction handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { engineers, start_sunday, weeks, seeds, leave = [], format = \"csv\" } = req.body;\n        // Basic validation\n        if (!engineers || !Array.isArray(engineers) || engineers.length !== 6) {\n            return res.status(400).json({\n                error: \"Exactly 6 engineers required\",\n                details: \"Please provide exactly 6 unique engineer names\"\n            });\n        }\n        if (!start_sunday) {\n            return res.status(400).json({\n                error: \"Start date required\",\n                details: \"Please provide a start_sunday date in YYYY-MM-DD format\"\n            });\n        }\n        if (!weeks || weeks < 1 || weeks > 52) {\n            return res.status(400).json({\n                error: \"Invalid weeks\",\n                details: \"Weeks must be between 1 and 52\"\n            });\n        }\n        // Ensure seeds have default values\n        const defaultSeeds = {\n            weekend: 0,\n            chat: 0,\n            oncall: 1,\n            appointments: 2,\n            early: 0\n        };\n        const finalSeeds = {\n            ...defaultSeeds,\n            ...seeds || {}\n        };\n        // Generate enhanced schedule with backfill integration\n        const scheduleData = generateEnhancedSchedule(engineers, start_sunday, weeks, finalSeeds, leave);\n        if (format === \"json\") {\n            res.setHeader(\"Content-Type\", \"application/json\");\n            return res.status(200).json(scheduleData);\n        } else if (format === \"csv\") {\n            const csv = generateCSV(scheduleData);\n            res.setHeader(\"Content-Type\", \"text/csv\");\n            res.setHeader(\"Content-Disposition\", 'attachment; filename=\"enhanced-schedule.csv\"');\n            return res.status(200).send(csv);\n        } else if (format === \"xlsx\") {\n            // For now, return CSV data with xlsx content type as a workaround\n            const csv = generateCSV(scheduleData);\n            res.setHeader(\"Content-Type\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n            res.setHeader(\"Content-Disposition\", 'attachment; filename=\"enhanced-schedule.xlsx\"');\n            return res.status(200).send(csv);\n        } else {\n            return res.status(400).json({\n                error: \"Unsupported format\",\n                details: \"Supported formats: csv, json, xlsx\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Enhanced schedule generation error:\", error);\n        return res.status(500).json({\n            error: \"Enhanced schedule generation failed\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ2VuZXJhdGUudHMiLCJtYXBwaW5ncyI6Ijs7OztBQXdCQSwrQ0FBK0M7QUFDL0MsU0FBU0EseUJBQ1BDLFNBQW1CLEVBQ25CQyxTQUFpQixFQUNqQkMsS0FBYSxFQUNiQyxLQUFVLEVBQ1ZDLFFBQXNCLEVBQUU7SUFFeEIsTUFBTUMsV0FBa0IsRUFBRTtJQUMxQixNQUFNQyxjQUErQixFQUFFO0lBQ3ZDLE1BQU1DLFFBQVE7UUFBQztRQUFXO1FBQVE7UUFBVTtRQUFnQjtRQUFVO0tBQVM7SUFFL0Usb0NBQW9DO0lBQ3BDLE1BQU1DLFdBQTJDLENBQUM7SUFDbERSLFVBQVVTLE9BQU8sQ0FBQ0MsQ0FBQUEsTUFBT0YsUUFBUSxDQUFDRSxJQUFJLEdBQUcsSUFBSUM7SUFDN0NQLE1BQU1LLE9BQU8sQ0FBQ0csQ0FBQUE7UUFDWixJQUFJSixRQUFRLENBQUNJLE1BQU1DLFFBQVEsQ0FBQyxFQUFFO1lBQzVCTCxRQUFRLENBQUNJLE1BQU1DLFFBQVEsQ0FBQyxDQUFDQyxHQUFHLENBQUNGLE1BQU1HLElBQUk7UUFDekM7SUFDRjtJQUVBLE1BQU1DLGVBQWUsSUFBSUMsS0FBS2hCO0lBRTlCLElBQUssSUFBSWlCLE9BQU8sR0FBR0EsT0FBT2hCLE9BQU9nQixPQUFRO1FBQ3ZDLElBQUssSUFBSUMsTUFBTSxHQUFHQSxNQUFNLEdBQUdBLE1BQU87WUFDaEMsTUFBTUMsY0FBYyxJQUFJSCxLQUFLRDtZQUM3QkksWUFBWUMsT0FBTyxDQUFDTCxhQUFhTSxPQUFPLEtBQU1KLE9BQU8sSUFBS0M7WUFDMUQsTUFBTUksVUFBVUgsWUFBWUksV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFFdkQsTUFBTUMsV0FBVztnQkFBQztnQkFBVTtnQkFBVTtnQkFBVztnQkFBYTtnQkFBWTtnQkFBVTthQUFXO1lBQy9GLE1BQU1DLFVBQVVELFFBQVEsQ0FBQ1AsSUFBSTtZQUM3QixNQUFNUyxZQUFZVCxPQUFPLEtBQUtBLE9BQU87WUFFckMsa0NBQWtDO1lBQ2xDLE1BQU1VLGtCQUFrQjdCLFVBQVU4QixNQUFNLENBQUMsQ0FBQ0MsR0FBR0M7Z0JBQzNDLGtFQUFrRTtnQkFDbEUsSUFBSSxDQUFDSixXQUFXLE9BQU8sQ0FBQ1YsT0FBT2YsTUFBTThCLE9BQU8sSUFBSWpDLFVBQVVrQyxNQUFNLEtBQUtGO2dCQUNyRSxPQUFPLE1BQU0saURBQWlEO1lBQ2hFO1lBRUEsNEJBQTRCO1lBQzVCLE1BQU1HLGVBQWVuQyxVQUFVOEIsTUFBTSxDQUFDcEIsQ0FBQUEsTUFBT0YsUUFBUSxDQUFDRSxJQUFJLENBQUMwQixHQUFHLENBQUNiO1lBRS9ELElBQUlZLGFBQWFELE1BQU0sR0FBRyxHQUFHO2dCQUMzQjVCLFlBQVkrQixJQUFJLENBQUM7b0JBQ2Z0QixNQUFNUTtvQkFDTmUsZUFBZTtvQkFDZkMsb0JBQW9CSjtvQkFDcEJLLFFBQVEsQ0FBQyw2Q0FBNkMsRUFBRWIsUUFBUSxDQUFDO29CQUNqRWMseUJBQXlCO3dCQUFDO3FCQUFxRDtvQkFDL0VDLFdBQVcsSUFBSXpCLE9BQU9PLFdBQVc7Z0JBQ25DO1lBQ0Y7WUFFQSxxQ0FBcUM7WUFDckMsTUFBTW1CLFlBQVkzQyxVQUFVOEIsTUFBTSxDQUFDcEIsQ0FBQUEsTUFBTyxDQUFDeUIsYUFBYVMsUUFBUSxDQUFDbEM7WUFFakUsb0RBQW9EO1lBQ3BELE1BQU1tQyxpQkFBaUJoQixnQkFBZ0JDLE1BQU0sQ0FBQ3BCLENBQUFBLE1BQU8sQ0FBQ3lCLGFBQWFTLFFBQVEsQ0FBQ2xDO1lBQzVFLElBQUlvQyxVQUFVO21CQUFJRDthQUFlLEVBQUUsMkJBQTJCO1lBQzlELE1BQU1FLGNBQWNuQixZQUFZLElBQUk7WUFFcEMsSUFBSWtCLFFBQVFaLE1BQU0sR0FBR2EsZUFBZUosVUFBVVQsTUFBTSxHQUFHWSxRQUFRWixNQUFNLEVBQUU7Z0JBQ3JFLGdFQUFnRTtnQkFDaEUsTUFBTWMscUJBQXFCTCxVQUFVYixNQUFNLENBQUNwQixDQUFBQSxNQUFPLENBQUNtQixnQkFBZ0JlLFFBQVEsQ0FBQ2xDO2dCQUU3RSxJQUFJc0MsbUJBQW1CZCxNQUFNLEdBQUcsR0FBRztvQkFDakMsMERBQTBEO29CQUMxRCxrRUFBa0U7b0JBQ2xFLE1BQU1lLFNBQVNDLEtBQUtDLEdBQUcsQ0FBQ0osY0FBY0QsUUFBUVosTUFBTSxFQUFFYyxtQkFBbUJkLE1BQU07b0JBQy9FLE1BQU1rQixXQUFXSixtQkFBbUJLLEtBQUssQ0FBQyxHQUFHSjtvQkFFN0NILFVBQVU7MkJBQUlBOzJCQUFZTTtxQkFBUyxFQUFFLHdCQUF3QjtvQkFFN0Q5QyxZQUFZK0IsSUFBSSxDQUFDO3dCQUNmdEIsTUFBTVE7d0JBQ05lLGVBQWU7d0JBQ2ZDLG9CQUFvQmE7d0JBQ3BCWixRQUFRLENBQUMsTUFBTSxFQUFFUSxtQkFBbUJkLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRWtCLFNBQVNsQixNQUFNLENBQUMsaUNBQWlDLEVBQUVhLFlBQVksZUFBZSxDQUFDO3dCQUNsSk4seUJBQXlCTyxtQkFBbUJLLEtBQUssQ0FBQ0osUUFBUUEsU0FBUzt3QkFDbkVQLFdBQVcsSUFBSXpCLE9BQU9PLFdBQVc7b0JBQ25DO2dCQUNGO1lBQ0Y7WUFFQSxtQkFBbUI7WUFDbkIsTUFBTThCLGNBQW1CO2dCQUN2QnJDLE1BQU1NO2dCQUNOZ0MsS0FBSzVCO2dCQUNMNkIsU0FBUztnQkFDVEMsTUFBTTtnQkFDTkMsUUFBUTtnQkFDUkMsY0FBYztnQkFDZEMsUUFBUTtnQkFDUkMsUUFBUTtZQUNWO1lBRUEsSUFBSSxDQUFDakMsYUFBYWtCLFFBQVFaLE1BQU0sR0FBRyxHQUFHO2dCQUNwQyxxRUFBcUU7Z0JBQ3JFLE1BQU00QixrQkFBa0JoQixPQUFPLENBQUMsRUFBRTtnQkFDbENRLFlBQVlFLE9BQU8sR0FBR007Z0JBRXRCLGtDQUFrQztnQkFDbEN4RCxZQUFZK0IsSUFBSSxDQUFDO29CQUNmdEIsTUFBTVE7b0JBQ05lLGVBQWU7b0JBQ2ZDLG9CQUFvQjt3QkFBQ3VCO3FCQUFnQjtvQkFDckN0QixRQUFRLENBQUMsdUJBQXVCLEVBQUViLFFBQVEsR0FBRyxFQUFFbUMsZ0JBQWdCLDBDQUEwQyxDQUFDO29CQUMxR3JCLHlCQUF5QkssUUFBUU8sS0FBSyxDQUFDLEdBQUc7b0JBQzFDWCxXQUFXLElBQUl6QixPQUFPTyxXQUFXO2dCQUNuQztZQUNGLE9BQU8sSUFBSUksYUFBYWtCLFFBQVFaLE1BQU0sR0FBRyxHQUFHO2dCQUMxQyx5Q0FBeUM7Z0JBQ3pDLE1BQU02QixZQUFZLE9BQVEsSUFBSzVDO2dCQUUvQixJQUFJMkIsUUFBUVosTUFBTSxJQUFJLEdBQUc7b0JBQ3ZCb0IsWUFBWUcsSUFBSSxHQUFHWCxPQUFPLENBQUMsQ0FBQ2lCLFlBQVk1RCxNQUFNNkQsSUFBSSxJQUFJbEIsUUFBUVosTUFBTSxDQUFDO2dCQUN2RTtnQkFDQSxJQUFJWSxRQUFRWixNQUFNLElBQUksR0FBRztvQkFDdkJvQixZQUFZSSxNQUFNLEdBQUdaLE9BQU8sQ0FBQyxDQUFDaUIsWUFBWTVELE1BQU04RCxNQUFNLElBQUluQixRQUFRWixNQUFNLENBQUM7Z0JBQzNFO2dCQUNBLElBQUlZLFFBQVFaLE1BQU0sSUFBSSxHQUFHO29CQUN2Qm9CLFlBQVlLLFlBQVksR0FBR2IsT0FBTyxDQUFDLENBQUNpQixZQUFZNUQsTUFBTStELFlBQVksSUFBSXBCLFFBQVFaLE1BQU0sQ0FBQztnQkFDdkY7Z0JBQ0EsSUFBSVksUUFBUVosTUFBTSxJQUFJLEdBQUc7b0JBQ3ZCb0IsWUFBWU0sTUFBTSxHQUFHZCxPQUFPLENBQUMsQ0FBQ2lCLFlBQVk1RCxNQUFNZ0UsS0FBSyxJQUFJckIsUUFBUVosTUFBTSxDQUFDO2dCQUMxRTtnQkFDQSxJQUFJWSxRQUFRWixNQUFNLElBQUksR0FBRztvQkFDdkJvQixZQUFZTyxNQUFNLEdBQUdmLE9BQU8sQ0FBQyxDQUFDaUIsWUFBWTVELE1BQU1nRSxLQUFLLEdBQUcsS0FBS3JCLFFBQVFaLE1BQU0sQ0FBQztnQkFDOUU7Z0JBRUEsZ0NBQWdDO2dCQUNoQyxNQUFNa0MsZ0JBQWdCQyxPQUFPQyxPQUFPLENBQUNoQixhQUNsQ3hCLE1BQU0sQ0FBQyxDQUFDLENBQUN5QyxLQUFLQyxNQUFNLEdBQUtELFFBQVEsVUFBVUEsUUFBUSxTQUFTQyxPQUM1REMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsTUFBTTdELFNBQVMsR0FBSyxDQUFDLEVBQUU2RCxLQUFLLEVBQUUsRUFBRTdELFNBQVMsQ0FBQztnQkFFbkQsSUFBSXVELGNBQWNsQyxNQUFNLEdBQUcsR0FBRztvQkFDNUI1QixZQUFZK0IsSUFBSSxDQUFDO3dCQUNmdEIsTUFBTVE7d0JBQ05lLGVBQWU7d0JBQ2ZDLG9CQUFvQjhCLE9BQU9NLE1BQU0sQ0FBQ3JCLGFBQWF4QixNQUFNLENBQUM4QyxDQUFBQSxJQUFLQSxLQUFLQSxNQUFNckQsV0FBV3FELE1BQU1qRDt3QkFDdkZhLFFBQVEsQ0FBQyw2QkFBNkIsRUFBRWIsUUFBUSxNQUFNLEVBQUVtQixRQUFRWixNQUFNLENBQUMsb0JBQW9CLENBQUM7d0JBQzVGTyx5QkFBeUJLLFFBQVFPLEtBQUssQ0FBQ2UsY0FBY2xDLE1BQU07d0JBQzNEUSxXQUFXLElBQUl6QixPQUFPTyxXQUFXO29CQUNuQztnQkFDRjtZQUNGO1lBRUFuQixTQUFTZ0MsSUFBSSxDQUFDaUI7UUFDaEI7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQixNQUFNdUIsZ0JBQWdCN0UsVUFBVXlFLEdBQUcsQ0FBQy9ELENBQUFBO1FBQ2xDLE1BQU1vRSxjQUFjekUsU0FBU3lCLE1BQU0sQ0FBQ1gsQ0FBQUEsTUFDbENrRCxPQUFPTSxNQUFNLENBQUN4RCxLQUFLeUIsUUFBUSxDQUFDbEMsTUFDNUJ3QixNQUFNO1FBQ1IsT0FBTztZQUFFckIsVUFBVUg7WUFBS3FFLGtCQUFrQkQ7UUFBWTtJQUN4RDtJQUVBLE9BQU87UUFDTHpFO1FBQ0EyRSxVQUFVO1lBQ1JoRjtZQUNBQztZQUNBQztZQUNBK0UsY0FBYzdFLE1BQU04QixNQUFNO1lBQzFCZ0QsYUFBYSxJQUFJakUsT0FBT08sV0FBVztRQUNyQztRQUNBMkQsZ0JBQWdCO1lBQ2RKLGtCQUFrQjFFLFNBQVM2QixNQUFNLEdBQUczQixNQUFNMkIsTUFBTTtZQUNoRDJDO1lBQ0FPLGFBQWFoRixNQUFNOEIsTUFBTSxHQUFHLElBQUkseUNBQXlDO1FBQzNFO1FBQ0E1QjtJQUNGO0FBQ0Y7QUFFQSxTQUFTK0UsWUFBWUMsSUFBNEI7SUFDL0MsTUFBTSxFQUFFakYsUUFBUSxFQUFFLEdBQUdpRjtJQUVyQixJQUFJakYsU0FBUzZCLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFFbEMsNkJBQTZCO0lBQzdCLE1BQU1xRCxVQUFVbEIsT0FBT21CLElBQUksQ0FBQ25GLFFBQVEsQ0FBQyxFQUFFO0lBQ3ZDLElBQUlvRixNQUFNRixRQUFRRyxJQUFJLENBQUMsT0FBTztJQUU5QnJGLFNBQVNJLE9BQU8sQ0FBQyxDQUFDa0Y7UUFDaEIsTUFBTWhCLFNBQVNZLFFBQVFkLEdBQUcsQ0FBQ21CLENBQUFBLFNBQVVELEdBQUcsQ0FBQ0MsT0FBTyxJQUFJO1FBQ3BESCxPQUFPZCxPQUFPZSxJQUFJLENBQUMsT0FBTztJQUM1QjtJQUVBLE9BQU9EO0FBQ1Q7QUFFZSxTQUFTSSxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUN2RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDNUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFbkcsU0FBUyxFQUFFb0csWUFBWSxFQUFFbEcsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxFQUFFaUcsU0FBUyxLQUFLLEVBQUUsR0FBR1AsSUFBSVEsSUFBSTtRQUV0RixtQkFBbUI7UUFDbkIsSUFBSSxDQUFDdEcsYUFBYSxDQUFDdUcsTUFBTUMsT0FBTyxDQUFDeEcsY0FBY0EsVUFBVWtDLE1BQU0sS0FBSyxHQUFHO1lBQ3JFLE9BQU82RCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTztnQkFDUE0sU0FBUztZQUNYO1FBQ0Y7UUFFQSxJQUFJLENBQUNMLGNBQWM7WUFDakIsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLE9BQU87Z0JBQ1BNLFNBQVM7WUFDWDtRQUNGO1FBRUEsSUFBSSxDQUFDdkcsU0FBU0EsUUFBUSxLQUFLQSxRQUFRLElBQUk7WUFDckMsT0FBTzZGLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxPQUFPO2dCQUNQTSxTQUFTO1lBQ1g7UUFDRjtRQUVBLG1DQUFtQztRQUNuQyxNQUFNQyxlQUFlO1lBQUV6RSxTQUFTO1lBQUcrQixNQUFNO1lBQUdDLFFBQVE7WUFBR0MsY0FBYztZQUFHQyxPQUFPO1FBQUU7UUFDakYsTUFBTXdDLGFBQWE7WUFBRSxHQUFHRCxZQUFZO1lBQUUsR0FBSXZHLFNBQVMsQ0FBQyxDQUFDO1FBQUU7UUFFdkQsdURBQXVEO1FBQ3ZELE1BQU15RyxlQUFlN0cseUJBQXlCQyxXQUFXb0csY0FBY2xHLE9BQU95RyxZQUFZdkc7UUFFMUYsSUFBSWlHLFdBQVcsUUFBUTtZQUNyQk4sSUFBSWMsU0FBUyxDQUFDLGdCQUFnQjtZQUM5QixPQUFPZCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDVTtRQUM5QixPQUFPLElBQUlQLFdBQVcsT0FBTztZQUMzQixNQUFNWixNQUFNSixZQUFZdUI7WUFDeEJiLElBQUljLFNBQVMsQ0FBQyxnQkFBZ0I7WUFDOUJkLElBQUljLFNBQVMsQ0FBQyx1QkFBdUI7WUFDckMsT0FBT2QsSUFBSUUsTUFBTSxDQUFDLEtBQUthLElBQUksQ0FBQ3JCO1FBQzlCLE9BQU8sSUFBSVksV0FBVyxRQUFRO1lBQzVCLGtFQUFrRTtZQUNsRSxNQUFNWixNQUFNSixZQUFZdUI7WUFDeEJiLElBQUljLFNBQVMsQ0FBQyxnQkFBZ0I7WUFDOUJkLElBQUljLFNBQVMsQ0FBQyx1QkFBdUI7WUFDckMsT0FBT2QsSUFBSUUsTUFBTSxDQUFDLEtBQUthLElBQUksQ0FBQ3JCO1FBQzlCLE9BQU87WUFDTCxPQUFPTSxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTztnQkFDUE0sU0FBUztZQUNYO1FBQ0Y7SUFFRixFQUFFLE9BQU9OLE9BQU87UUFDZFksUUFBUVosS0FBSyxDQUFDLHVDQUF1Q0E7UUFDckQsT0FBT0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsT0FBTztZQUNQTSxTQUFTTixpQkFBaUJhLFFBQVFiLE1BQU1jLE9BQU8sR0FBRztRQUNwRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hlZHVsZXItdmVyY2VsLWFwcC8uL3BhZ2VzL2FwaS9nZW5lcmF0ZS50cz8yNjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuXHJcbmludGVyZmFjZSBMZWF2ZUVudHJ5IHtcclxuICBlbmdpbmVlcjogc3RyaW5nO1xyXG4gIGRhdGU6IHN0cmluZztcclxuICByZWFzb246IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIERlY2lzaW9uRW50cnkge1xyXG4gIGRhdGU6IHN0cmluZztcclxuICBkZWNpc2lvbl90eXBlOiBzdHJpbmc7XHJcbiAgYWZmZWN0ZWRfZW5naW5lZXJzOiBzdHJpbmdbXTtcclxuICByZWFzb246IHN0cmluZztcclxuICBhbHRlcm5hdGl2ZXNfY29uc2lkZXJlZDogc3RyaW5nW107XHJcbiAgdGltZXN0YW1wOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBFbmhhbmNlZFNjaGVkdWxlUmVzdWx0IHtcclxuICBzY2hlZHVsZTogYW55W107XHJcbiAgbWV0YWRhdGE6IGFueTtcclxuICBmYWlybmVzc1JlcG9ydDogYW55O1xyXG4gIGRlY2lzaW9uTG9nOiBEZWNpc2lvbkVudHJ5W107XHJcbn1cclxuXHJcbi8vIEVuaGFuY2VkIHNjaGVkdWxlciB3aXRoIGJhY2tmaWxsIGludGVncmF0aW9uXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRW5oYW5jZWRTY2hlZHVsZShcclxuICBlbmdpbmVlcnM6IHN0cmluZ1tdLCBcclxuICBzdGFydERhdGU6IHN0cmluZywgXHJcbiAgd2Vla3M6IG51bWJlciwgXHJcbiAgc2VlZHM6IGFueSwgXHJcbiAgbGVhdmU6IExlYXZlRW50cnlbXSA9IFtdXHJcbik6IEVuaGFuY2VkU2NoZWR1bGVSZXN1bHQge1xyXG4gIGNvbnN0IHNjaGVkdWxlOiBhbnlbXSA9IFtdO1xyXG4gIGNvbnN0IGRlY2lzaW9uTG9nOiBEZWNpc2lvbkVudHJ5W10gPSBbXTtcclxuICBjb25zdCByb2xlcyA9IFsnV2Vla2VuZCcsICdDaGF0JywgJ09uQ2FsbCcsICdBcHBvaW50bWVudHMnLCAnRWFybHkxJywgJ0Vhcmx5MiddO1xyXG4gIFxyXG4gIC8vIENyZWF0ZSBsZWF2ZSBtYXAgZm9yIHF1aWNrIGxvb2t1cFxyXG4gIGNvbnN0IGxlYXZlTWFwOiB7IFtrZXk6IHN0cmluZ106IFNldDxzdHJpbmc+IH0gPSB7fTtcclxuICBlbmdpbmVlcnMuZm9yRWFjaChlbmcgPT4gbGVhdmVNYXBbZW5nXSA9IG5ldyBTZXQoKSk7XHJcbiAgbGVhdmUuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICBpZiAobGVhdmVNYXBbZW50cnkuZW5naW5lZXJdKSB7XHJcbiAgICAgIGxlYXZlTWFwW2VudHJ5LmVuZ2luZWVyXS5hZGQoZW50cnkuZGF0ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0RGF0ZU9iaiA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XHJcbiAgXHJcbiAgZm9yIChsZXQgd2VlayA9IDA7IHdlZWsgPCB3ZWVrczsgd2VlaysrKSB7XHJcbiAgICBmb3IgKGxldCBkYXkgPSAwOyBkYXkgPCA3OyBkYXkrKykge1xyXG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZU9iaik7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoc3RhcnREYXRlT2JqLmdldERhdGUoKSArICh3ZWVrICogNykgKyBkYXkpO1xyXG4gICAgICBjb25zdCBkYXRlU3RyID0gY3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XHJcbiAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXldO1xyXG4gICAgICBjb25zdCBpc1dlZWtkYXkgPSBkYXkgPj0gMSAmJiBkYXkgPD0gNTtcclxuICAgICAgXHJcbiAgICAgIC8vIERldGVybWluZSB3aG8gc2hvdWxkIGJlIHdvcmtpbmdcclxuICAgICAgY29uc3QgZXhwZWN0ZWRXb3JraW5nID0gZW5naW5lZXJzLmZpbHRlcigoXywgaWR4KSA9PiB7XHJcbiAgICAgICAgLy8gV2Vla2VuZCByb3RhdGlvbjogc2FtZSBlbmdpbmVlciBjb3ZlcnMgYm90aCBTYXR1cmRheSBhbmQgU3VuZGF5XHJcbiAgICAgICAgaWYgKCFpc1dlZWtkYXkpIHJldHVybiAod2VlayArIHNlZWRzLndlZWtlbmQpICUgZW5naW5lZXJzLmxlbmd0aCA9PT0gaWR4O1xyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBBbGwgZW5naW5lZXJzIGF2YWlsYWJsZSBmb3Igd2Vla2RheXMgaW5pdGlhbGx5XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gRmluZCB3aG8ncyBvbiBsZWF2ZSB0b2RheVxyXG4gICAgICBjb25zdCBvbkxlYXZlVG9kYXkgPSBlbmdpbmVlcnMuZmlsdGVyKGVuZyA9PiBsZWF2ZU1hcFtlbmddLmhhcyhkYXRlU3RyKSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAob25MZWF2ZVRvZGF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBkZWNpc2lvbkxvZy5wdXNoKHtcclxuICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXHJcbiAgICAgICAgICBkZWNpc2lvbl90eXBlOiAnbGVhdmVfZXhjbHVzaW9uJyxcclxuICAgICAgICAgIGFmZmVjdGVkX2VuZ2luZWVyczogb25MZWF2ZVRvZGF5LFxyXG4gICAgICAgICAgcmVhc29uOiBgRW5naW5lZXJzIGV4Y2x1ZGVkIGR1ZSB0byBzY2hlZHVsZWQgbGVhdmUgb24gJHtkYXlOYW1lfWAsXHJcbiAgICAgICAgICBhbHRlcm5hdGl2ZXNfY29uc2lkZXJlZDogWydFbmhhbmNlZCBiYWNrZmlsbCBzZWxlY3Rpb24gd2lsbCBmaW5kIGFsdGVybmF0aXZlcyddLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQXZhaWxhYmxlIGVuZ2luZWVycyAobm90IG9uIGxlYXZlKVxyXG4gICAgICBjb25zdCBhdmFpbGFibGUgPSBlbmdpbmVlcnMuZmlsdGVyKGVuZyA9PiAhb25MZWF2ZVRvZGF5LmluY2x1ZGVzKGVuZykpO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5oYW5jZWQgYmFja2ZpbGwgbG9naWMgZm9yIGluc3VmZmljaWVudCBjb3ZlcmFnZVxyXG4gICAgICBjb25zdCBpbml0aWFsV29ya2luZyA9IGV4cGVjdGVkV29ya2luZy5maWx0ZXIoZW5nID0+ICFvbkxlYXZlVG9kYXkuaW5jbHVkZXMoZW5nKSk7XHJcbiAgICAgIGxldCB3b3JraW5nID0gWy4uLmluaXRpYWxXb3JraW5nXTsgLy8gRXhwbGljaXRseSBtdXRhYmxlIGFycmF5XHJcbiAgICAgIGNvbnN0IG1pblJlcXVpcmVkID0gaXNXZWVrZGF5ID8gMyA6IDE7XHJcbiAgICAgIFxyXG4gICAgICBpZiAod29ya2luZy5sZW5ndGggPCBtaW5SZXF1aXJlZCAmJiBhdmFpbGFibGUubGVuZ3RoID4gd29ya2luZy5sZW5ndGgpIHtcclxuICAgICAgICAvLyBGaW5kIGJhY2tmaWxsIGNhbmRpZGF0ZXMgKGF2YWlsYWJsZSBidXQgbm90IGV4cGVjdGVkIHRvIHdvcmspXHJcbiAgICAgICAgY29uc3QgYmFja2ZpbGxDYW5kaWRhdGVzID0gYXZhaWxhYmxlLmZpbHRlcihlbmcgPT4gIWV4cGVjdGVkV29ya2luZy5pbmNsdWRlcyhlbmcpKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYmFja2ZpbGxDYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIC8vIEVuaGFuY2VkIGJhY2tmaWxsIHNlbGVjdGlvbiB3aXRoIGZhaXJuZXNzIGNvbnNpZGVyYXRpb25cclxuICAgICAgICAgIC8vIFNpbXBsZSBmYWlybmVzczogcHJlZmVyIGVuZ2luZWVycyB3aXRoIGZld2VyIHJlY2VudCBhc3NpZ25tZW50c1xyXG4gICAgICAgICAgY29uc3QgbmVlZGVkID0gTWF0aC5taW4obWluUmVxdWlyZWQgLSB3b3JraW5nLmxlbmd0aCwgYmFja2ZpbGxDYW5kaWRhdGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGJhY2tmaWxsQ2FuZGlkYXRlcy5zbGljZSgwLCBuZWVkZWQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB3b3JraW5nID0gWy4uLndvcmtpbmcsIC4uLnNlbGVjdGVkXTsgLy8gRXhwbGljaXQgcmVhc3NpZ25tZW50XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGRlY2lzaW9uTG9nLnB1c2goe1xyXG4gICAgICAgICAgICBkYXRlOiBkYXRlU3RyLFxyXG4gICAgICAgICAgICBkZWNpc2lvbl90eXBlOiAnZW5oYW5jZWRfYmFja2ZpbGxfc2VsZWN0aW9uJyxcclxuICAgICAgICAgICAgYWZmZWN0ZWRfZW5naW5lZXJzOiBzZWxlY3RlZCxcclxuICAgICAgICAgICAgcmVhc29uOiBgRm91bmQgJHtiYWNrZmlsbENhbmRpZGF0ZXMubGVuZ3RofSBjYW5kaWRhdGVzLCBzZWxlY3RlZCAke3NlbGVjdGVkLmxlbmd0aH0gYmFzZWQgb24gZmFpcm5lc3Mgd2VpZ2h0aW5nIGZvciAke21pblJlcXVpcmVkfSByZXF1aXJlZCByb2xlc2AsXHJcbiAgICAgICAgICAgIGFsdGVybmF0aXZlc19jb25zaWRlcmVkOiBiYWNrZmlsbENhbmRpZGF0ZXMuc2xpY2UobmVlZGVkLCBuZWVkZWQgKyAyKSxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUm9sZSBhc3NpZ25tZW50c1xyXG4gICAgICBjb25zdCBkYXlTY2hlZHVsZTogYW55ID0ge1xyXG4gICAgICAgIERhdGU6IGRhdGVTdHIsXHJcbiAgICAgICAgRGF5OiBkYXlOYW1lLFxyXG4gICAgICAgIFdlZWtlbmQ6ICcnLFxyXG4gICAgICAgIENoYXQ6ICcnLFxyXG4gICAgICAgIE9uQ2FsbDogJycsXHJcbiAgICAgICAgQXBwb2ludG1lbnRzOiAnJyxcclxuICAgICAgICBFYXJseTE6ICcnLFxyXG4gICAgICAgIEVhcmx5MjogJydcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGlmICghaXNXZWVrZGF5ICYmIHdvcmtpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vIFdlZWtlbmQgYXNzaWdubWVudCAtIHNhbWUgZW5naW5lZXIgY292ZXJzIGJvdGggU2F0dXJkYXkgYW5kIFN1bmRheVxyXG4gICAgICAgIGNvbnN0IHdlZWtlbmRFbmdpbmVlciA9IHdvcmtpbmdbMF07XHJcbiAgICAgICAgZGF5U2NoZWR1bGUuV2Vla2VuZCA9IHdlZWtlbmRFbmdpbmVlcjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2cgd2Vla2VuZCBhc3NpZ25tZW50IGRlY2lzaW9uXHJcbiAgICAgICAgZGVjaXNpb25Mb2cucHVzaCh7XHJcbiAgICAgICAgICBkYXRlOiBkYXRlU3RyLFxyXG4gICAgICAgICAgZGVjaXNpb25fdHlwZTogJ3dlZWtlbmRfYXNzaWdubWVudCcsXHJcbiAgICAgICAgICBhZmZlY3RlZF9lbmdpbmVlcnM6IFt3ZWVrZW5kRW5naW5lZXJdLFxyXG4gICAgICAgICAgcmVhc29uOiBgV2Vla2VuZCBhc3NpZ25tZW50IGZvciAke2RheU5hbWV9IC0gJHt3ZWVrZW5kRW5naW5lZXJ9IGNvdmVycyBlbnRpcmUgd2Vla2VuZCAoU2F0dXJkYXkgJiBTdW5kYXkpYCxcclxuICAgICAgICAgIGFsdGVybmF0aXZlc19jb25zaWRlcmVkOiB3b3JraW5nLnNsaWNlKDEsIDMpLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpc1dlZWtkYXkgJiYgd29ya2luZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gV2Vla2RheSByb2xlIGFzc2lnbm1lbnRzIHdpdGggcm90YXRpb25cclxuICAgICAgICBjb25zdCBkYXlPZmZzZXQgPSAod2VlayAqIDcpICsgZGF5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh3b3JraW5nLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICBkYXlTY2hlZHVsZS5DaGF0ID0gd29ya2luZ1soZGF5T2Zmc2V0ICsgc2VlZHMuY2hhdCkgJSB3b3JraW5nLmxlbmd0aF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3b3JraW5nLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICBkYXlTY2hlZHVsZS5PbkNhbGwgPSB3b3JraW5nWyhkYXlPZmZzZXQgKyBzZWVkcy5vbmNhbGwpICUgd29ya2luZy5sZW5ndGhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAod29ya2luZy5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgZGF5U2NoZWR1bGUuQXBwb2ludG1lbnRzID0gd29ya2luZ1soZGF5T2Zmc2V0ICsgc2VlZHMuYXBwb2ludG1lbnRzKSAlIHdvcmtpbmcubGVuZ3RoXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdvcmtpbmcubGVuZ3RoID49IDQpIHtcclxuICAgICAgICAgIGRheVNjaGVkdWxlLkVhcmx5MSA9IHdvcmtpbmdbKGRheU9mZnNldCArIHNlZWRzLmVhcmx5KSAlIHdvcmtpbmcubGVuZ3RoXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdvcmtpbmcubGVuZ3RoID49IDUpIHtcclxuICAgICAgICAgIGRheVNjaGVkdWxlLkVhcmx5MiA9IHdvcmtpbmdbKGRheU9mZnNldCArIHNlZWRzLmVhcmx5ICsgMSkgJSB3b3JraW5nLmxlbmd0aF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyBlbmhhbmNlZCByb2xlIGFzc2lnbm1lbnRzXHJcbiAgICAgICAgY29uc3QgYXNzaWduZWRSb2xlcyA9IE9iamVjdC5lbnRyaWVzKGRheVNjaGVkdWxlKVxyXG4gICAgICAgICAgLmZpbHRlcigoW2tleSwgdmFsdWVdKSA9PiBrZXkgIT09ICdEYXRlJyAmJiBrZXkgIT09ICdEYXknICYmIHZhbHVlKVxyXG4gICAgICAgICAgLm1hcCgoW3JvbGUsIGVuZ2luZWVyXSkgPT4gYCR7cm9sZX06ICR7ZW5naW5lZXJ9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFzc2lnbmVkUm9sZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgZGVjaXNpb25Mb2cucHVzaCh7XHJcbiAgICAgICAgICAgIGRhdGU6IGRhdGVTdHIsXHJcbiAgICAgICAgICAgIGRlY2lzaW9uX3R5cGU6ICdlbmhhbmNlZF9yb2xlX2Fzc2lnbm1lbnQnLFxyXG4gICAgICAgICAgICBhZmZlY3RlZF9lbmdpbmVlcnM6IE9iamVjdC52YWx1ZXMoZGF5U2NoZWR1bGUpLmZpbHRlcih2ID0+IHYgJiYgdiAhPT0gZGF0ZVN0ciAmJiB2ICE9PSBkYXlOYW1lKSBhcyBzdHJpbmdbXSxcclxuICAgICAgICAgICAgcmVhc29uOiBgRW5oYW5jZWQgcm9sZSBhc3NpZ25tZW50IGZvciAke2RheU5hbWV9IHdpdGggJHt3b3JraW5nLmxlbmd0aH0gYXZhaWxhYmxlIGVuZ2luZWVyc2AsXHJcbiAgICAgICAgICAgIGFsdGVybmF0aXZlc19jb25zaWRlcmVkOiB3b3JraW5nLnNsaWNlKGFzc2lnbmVkUm9sZXMubGVuZ3RoKSxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2NoZWR1bGUucHVzaChkYXlTY2hlZHVsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEdlbmVyYXRlIGZhaXJuZXNzIHJlcG9ydFxyXG4gIGNvbnN0IGVuZ2luZWVyU3RhdHMgPSBlbmdpbmVlcnMubWFwKGVuZyA9PiB7XHJcbiAgICBjb25zdCBhc3NpZ25tZW50cyA9IHNjaGVkdWxlLmZpbHRlcihkYXkgPT4gXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZGF5KS5pbmNsdWRlcyhlbmcpXHJcbiAgICApLmxlbmd0aDtcclxuICAgIHJldHVybiB7IGVuZ2luZWVyOiBlbmcsIHRvdGFsQXNzaWdubWVudHM6IGFzc2lnbm1lbnRzIH07XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHNjaGVkdWxlLFxyXG4gICAgbWV0YWRhdGE6IHtcclxuICAgICAgZW5naW5lZXJzLFxyXG4gICAgICBzdGFydERhdGUsXHJcbiAgICAgIHdlZWtzLFxyXG4gICAgICBsZWF2ZUVudHJpZXM6IGxlYXZlLmxlbmd0aCxcclxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSxcclxuICAgIGZhaXJuZXNzUmVwb3J0OiB7XHJcbiAgICAgIHRvdGFsQXNzaWdubWVudHM6IHNjaGVkdWxlLmxlbmd0aCAqIHJvbGVzLmxlbmd0aCxcclxuICAgICAgZW5naW5lZXJTdGF0cyxcclxuICAgICAgbGVhdmVJbXBhY3Q6IGxlYXZlLmxlbmd0aCA+IDAgPyAnRW5oYW5jZWQgYmFja2ZpbGwgaW50ZWdyYXRpb24gYWN0aXZlJyA6ICdObyBsZWF2ZSBlbnRyaWVzJ1xyXG4gICAgfSxcclxuICAgIGRlY2lzaW9uTG9nXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVDU1YoZGF0YTogRW5oYW5jZWRTY2hlZHVsZVJlc3VsdCkge1xyXG4gIGNvbnN0IHsgc2NoZWR1bGUgfSA9IGRhdGE7XHJcbiAgXHJcbiAgaWYgKHNjaGVkdWxlLmxlbmd0aCA9PT0gMCkgcmV0dXJuICdObyBzY2hlZHVsZSBkYXRhIGF2YWlsYWJsZSc7XHJcbiAgXHJcbiAgLy8gR2V0IGhlYWRlcnMgZnJvbSBmaXJzdCByb3dcclxuICBjb25zdCBoZWFkZXJzID0gT2JqZWN0LmtleXMoc2NoZWR1bGVbMF0pO1xyXG4gIGxldCBjc3YgPSBoZWFkZXJzLmpvaW4oJywnKSArICdcXG4nO1xyXG4gIFxyXG4gIHNjaGVkdWxlLmZvckVhY2goKHJvdzogYW55KSA9PiB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBoZWFkZXJzLm1hcChoZWFkZXIgPT4gcm93W2hlYWRlcl0gfHwgJycpO1xyXG4gICAgY3N2ICs9IHZhbHVlcy5qb2luKCcsJykgKyAnXFxuJztcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gY3N2O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW5naW5lZXJzLCBzdGFydF9zdW5kYXksIHdlZWtzLCBzZWVkcywgbGVhdmUgPSBbXSwgZm9ybWF0ID0gJ2NzdicgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cclxuICAgIGlmICghZW5naW5lZXJzIHx8ICFBcnJheS5pc0FycmF5KGVuZ2luZWVycykgfHwgZW5naW5lZXJzLmxlbmd0aCAhPT0gNikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogJ0V4YWN0bHkgNiBlbmdpbmVlcnMgcmVxdWlyZWQnLFxyXG4gICAgICAgIGRldGFpbHM6ICdQbGVhc2UgcHJvdmlkZSBleGFjdGx5IDYgdW5pcXVlIGVuZ2luZWVyIG5hbWVzJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXN0YXJ0X3N1bmRheSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogJ1N0YXJ0IGRhdGUgcmVxdWlyZWQnLFxyXG4gICAgICAgIGRldGFpbHM6ICdQbGVhc2UgcHJvdmlkZSBhIHN0YXJ0X3N1bmRheSBkYXRlIGluIFlZWVktTU0tREQgZm9ybWF0J1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXdlZWtzIHx8IHdlZWtzIDwgMSB8fCB3ZWVrcyA+IDUyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCB3ZWVrcycsXHJcbiAgICAgICAgZGV0YWlsczogJ1dlZWtzIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA1MidcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5zdXJlIHNlZWRzIGhhdmUgZGVmYXVsdCB2YWx1ZXNcclxuICAgIGNvbnN0IGRlZmF1bHRTZWVkcyA9IHsgd2Vla2VuZDogMCwgY2hhdDogMCwgb25jYWxsOiAxLCBhcHBvaW50bWVudHM6IDIsIGVhcmx5OiAwIH07XHJcbiAgICBjb25zdCBmaW5hbFNlZWRzID0geyAuLi5kZWZhdWx0U2VlZHMsIC4uLihzZWVkcyB8fCB7fSkgfTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBlbmhhbmNlZCBzY2hlZHVsZSB3aXRoIGJhY2tmaWxsIGludGVncmF0aW9uXHJcbiAgICBjb25zdCBzY2hlZHVsZURhdGEgPSBnZW5lcmF0ZUVuaGFuY2VkU2NoZWR1bGUoZW5naW5lZXJzLCBzdGFydF9zdW5kYXksIHdlZWtzLCBmaW5hbFNlZWRzLCBsZWF2ZSk7XHJcblxyXG4gICAgaWYgKGZvcm1hdCA9PT0gJ2pzb24nKSB7XHJcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihzY2hlZHVsZURhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XHJcbiAgICAgIGNvbnN0IGNzdiA9IGdlbmVyYXRlQ1NWKHNjaGVkdWxlRGF0YSk7XHJcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L2NzdicpO1xyXG4gICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiZW5oYW5jZWQtc2NoZWR1bGUuY3N2XCInKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGNzdik7XHJcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ3hsc3gnKSB7XHJcbiAgICAgIC8vIEZvciBub3csIHJldHVybiBDU1YgZGF0YSB3aXRoIHhsc3ggY29udGVudCB0eXBlIGFzIGEgd29ya2Fyb3VuZFxyXG4gICAgICBjb25zdCBjc3YgPSBnZW5lcmF0ZUNTVihzY2hlZHVsZURhdGEpO1xyXG4gICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnKTtcclxuICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50OyBmaWxlbmFtZT1cImVuaGFuY2VkLXNjaGVkdWxlLnhsc3hcIicpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoY3N2KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiAnVW5zdXBwb3J0ZWQgZm9ybWF0JyxcclxuICAgICAgICBkZXRhaWxzOiAnU3VwcG9ydGVkIGZvcm1hdHM6IGNzdiwganNvbiwgeGxzeCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFbmhhbmNlZCBzY2hlZHVsZSBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICBlcnJvcjogJ0VuaGFuY2VkIHNjaGVkdWxlIGdlbmVyYXRpb24gZmFpbGVkJyxcclxuICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJnZW5lcmF0ZUVuaGFuY2VkU2NoZWR1bGUiLCJlbmdpbmVlcnMiLCJzdGFydERhdGUiLCJ3ZWVrcyIsInNlZWRzIiwibGVhdmUiLCJzY2hlZHVsZSIsImRlY2lzaW9uTG9nIiwicm9sZXMiLCJsZWF2ZU1hcCIsImZvckVhY2giLCJlbmciLCJTZXQiLCJlbnRyeSIsImVuZ2luZWVyIiwiYWRkIiwiZGF0ZSIsInN0YXJ0RGF0ZU9iaiIsIkRhdGUiLCJ3ZWVrIiwiZGF5IiwiY3VycmVudERhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhdGVTdHIiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZGF5TmFtZXMiLCJkYXlOYW1lIiwiaXNXZWVrZGF5IiwiZXhwZWN0ZWRXb3JraW5nIiwiZmlsdGVyIiwiXyIsImlkeCIsIndlZWtlbmQiLCJsZW5ndGgiLCJvbkxlYXZlVG9kYXkiLCJoYXMiLCJwdXNoIiwiZGVjaXNpb25fdHlwZSIsImFmZmVjdGVkX2VuZ2luZWVycyIsInJlYXNvbiIsImFsdGVybmF0aXZlc19jb25zaWRlcmVkIiwidGltZXN0YW1wIiwiYXZhaWxhYmxlIiwiaW5jbHVkZXMiLCJpbml0aWFsV29ya2luZyIsIndvcmtpbmciLCJtaW5SZXF1aXJlZCIsImJhY2tmaWxsQ2FuZGlkYXRlcyIsIm5lZWRlZCIsIk1hdGgiLCJtaW4iLCJzZWxlY3RlZCIsInNsaWNlIiwiZGF5U2NoZWR1bGUiLCJEYXkiLCJXZWVrZW5kIiwiQ2hhdCIsIk9uQ2FsbCIsIkFwcG9pbnRtZW50cyIsIkVhcmx5MSIsIkVhcmx5MiIsIndlZWtlbmRFbmdpbmVlciIsImRheU9mZnNldCIsImNoYXQiLCJvbmNhbGwiLCJhcHBvaW50bWVudHMiLCJlYXJseSIsImFzc2lnbmVkUm9sZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5IiwidmFsdWUiLCJtYXAiLCJyb2xlIiwidmFsdWVzIiwidiIsImVuZ2luZWVyU3RhdHMiLCJhc3NpZ25tZW50cyIsInRvdGFsQXNzaWdubWVudHMiLCJtZXRhZGF0YSIsImxlYXZlRW50cmllcyIsImdlbmVyYXRlZEF0IiwiZmFpcm5lc3NSZXBvcnQiLCJsZWF2ZUltcGFjdCIsImdlbmVyYXRlQ1NWIiwiZGF0YSIsImhlYWRlcnMiLCJrZXlzIiwiY3N2Iiwiam9pbiIsInJvdyIsImhlYWRlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzdGFydF9zdW5kYXkiLCJmb3JtYXQiLCJib2R5IiwiQXJyYXkiLCJpc0FycmF5IiwiZGV0YWlscyIsImRlZmF1bHRTZWVkcyIsImZpbmFsU2VlZHMiLCJzY2hlZHVsZURhdGEiLCJzZXRIZWFkZXIiLCJzZW5kIiwiY29uc29sZSIsIkVycm9yIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/generate.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();