"use strict";exports.id=267,exports.ids=[267],exports.modules={124:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{j:()=>x});var i=t(997),n=t(9816),s=t.n(n),o=t(6689),l=t(6187),d=t(5171),c=e([l]);l=(c.then?(await c)():c)[0];let x=({value:e,onChange:r,label:t="Engineer Names (comma-separated)",placeholder:a="Engineer A, Engineer B, Engineer C, Engineer D, Engineer E, Engineer F",className:n=""})=>{let[c,x]=(0,o.useState)({isValid:!0,errors:[],warnings:[]}),[b,u]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if(e.trim()){let r=(0,l.hA)(e);x(r);let t=e.split(",").map(e=>e.trim()).filter(Boolean);u(t.length)}else x({isValid:!0,errors:[],warnings:[]}),u(0)},[e]),(0,i.jsxs)("div",{className:`jsx-da2e50b96e60205b engineer-input ${n}`,children:[(0,i.jsxs)("div",{className:"jsx-da2e50b96e60205b label-row",children:[i.jsx("label",{className:"jsx-da2e50b96e60205b",children:t}),i.jsx("div",{style:{color:6===b?"#059669":b>6?"#dc2626":"#6b7280"},className:"jsx-da2e50b96e60205b counter",children:0===b?"Enter 6 engineers":6===b?"✓ Perfect!":b<6?`${b}/6 engineers (need ${6-b} more)`:`${b}/6 engineers (${b-6} too many)`})]}),i.jsx("textarea",{value:e,onChange:e=>r(e.target.value),placeholder:a,rows:3,className:`jsx-da2e50b96e60205b textarea ${c.errors.length>0?"error":""}`}),i.jsx("div",{className:"jsx-da2e50b96e60205b help-text",children:"\uD83D\uDCA1 Tip: Names can include letters, spaces, hyphens, apostrophes, and accented characters"}),i.jsx(d.y,{errors:c.errors,warnings:c.warnings}),i.jsx(s(),{id:"da2e50b96e60205b",children:".engineer-input.jsx-da2e50b96e60205b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.label-row.jsx-da2e50b96e60205b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:4px}label.jsx-da2e50b96e60205b{font-weight:500}.counter.jsx-da2e50b96e60205b{font-size:12px;font-weight:500}.textarea.jsx-da2e50b96e60205b{width:100%;padding:12px;border:1px solid#d1d5db;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;font-family:inherit;resize:vertical;min-height:80px}.textarea.error.jsx-da2e50b96e60205b{border-color:#dc2626;background-color:#fef2f2}.textarea.jsx-da2e50b96e60205b:focus{outline:none;border-color:#3b82f6;-webkit-box-shadow:0 0 0 2px rgba(59,130,246,.1);-moz-box-shadow:0 0 0 2px rgba(59,130,246,.1);box-shadow:0 0 0 2px rgba(59,130,246,.1)}.help-text.jsx-da2e50b96e60205b{font-size:12px;color:#6b7280;margin-top:4px}"})]})};a()}catch(e){a(e)}})},6283:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{m:()=>x});var i=t(997),n=t(9816),s=t.n(n),o=t(6689),l=t(6187),d=t(5171),c=e([l]);l=(c.then?(await c)():c)[0];let x=({value:e,onChange:r,placeholder:t="YYYY-MM-DD",label:a="Start Sunday",className:n=""})=>{let[c,x]=(0,o.useState)({isValid:!0,errors:[],warnings:[]}),[b,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(e){let r=(0,l.mY)(e);x(r),u(r.warnings.length>0)}else x({isValid:!0,errors:[],warnings:[]}),u(!1)},[e]);let f=()=>{let e=new Date,r=e.getDay(),t=new Date(e);return 0===r?e.toISOString().split("T")[0]:(t.setDate(e.getDate()+(7-r)),t.toISOString().split("T")[0])};return(0,i.jsxs)("div",{className:`jsx-98c7089dacf93880 smart-date-picker ${n}`,children:[i.jsx("label",{className:"jsx-98c7089dacf93880",children:a}),(0,i.jsxs)("div",{className:"jsx-98c7089dacf93880 input-container",children:[i.jsx("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:t,className:`jsx-98c7089dacf93880 date-input ${c.errors.length>0?"error":""}`}),!e&&i.jsx("button",{type:"button",onClick:()=>{let e=f();r(e),u(!1)},title:"Use this Sunday",className:"jsx-98c7089dacf93880 quick-action-btn",children:"\uD83D\uDCC5 This Sunday"})]}),i.jsx(d.y,{errors:c.errors,warnings:c.warnings}),b&&c.warnings.length>0&&(0,i.jsxs)("div",{className:"jsx-98c7089dacf93880 suggestions",children:[i.jsx("div",{className:"jsx-98c7089dacf93880 suggestion-text",children:"Not a Sunday? Quick fix:"}),(0,i.jsxs)("div",{className:"jsx-98c7089dacf93880 suggestion-buttons",children:[(0,i.jsxs)("button",{type:"button",onClick:()=>{if(e){let t=(0,l.ci)(e);r(t),u(!1)}},className:"jsx-98c7089dacf93880 suggestion-btn",children:["← Previous Sunday (",(0,l.ci)(e),")"]}),(0,i.jsxs)("button",{type:"button",onClick:()=>{if(e){let t=(0,l.fp)(e);r(t),u(!1)}},className:"jsx-98c7089dacf93880 suggestion-btn",children:["Next Sunday (",(0,l.fp)(e),") →"]})]})]}),i.jsx(s(),{id:"98c7089dacf93880",children:".smart-date-picker.jsx-98c7089dacf93880{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.input-container.jsx-98c7089dacf93880{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.date-input.jsx-98c7089dacf93880{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:8px 12px;border:1px solid#d1d5db;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px}.date-input.error.jsx-98c7089dacf93880{border-color:#dc2626;background-color:#fef2f2}.date-input.jsx-98c7089dacf93880:focus{outline:none;border-color:#3b82f6;-webkit-box-shadow:0 0 0 2px rgba(59,130,246,.1);-moz-box-shadow:0 0 0 2px rgba(59,130,246,.1);box-shadow:0 0 0 2px rgba(59,130,246,.1)}.quick-action-btn.jsx-98c7089dacf93880{padding:6px 12px;background:#f3f4f6;border:1px solid#d1d5db;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;cursor:pointer;white-space:nowrap}.quick-action-btn.jsx-98c7089dacf93880:hover{background:#e5e7eb}.suggestions.jsx-98c7089dacf93880{margin-top:8px;padding:12px;background:#fffbeb;border:1px solid#fbbf24;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.suggestion-text.jsx-98c7089dacf93880{font-size:12px;color:#92400e;margin-bottom:8px}.suggestion-buttons.jsx-98c7089dacf93880{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.suggestion-btn.jsx-98c7089dacf93880{padding:6px 12px;background:#fbbf24;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;cursor:pointer;white-space:nowrap}.suggestion-btn.jsx-98c7089dacf93880:hover{background:#f59e0b}label.jsx-98c7089dacf93880{font-weight:500;margin-bottom:4px;display:block}"})]})};a()}catch(e){a(e)}})},5171:(e,r,t)=>{t.d(r,{y:()=>s});var a=t(997),i=t(9816),n=t.n(i);t(6689);let s=({errors:e=[],warnings:r=[],className:t=""})=>0===e.length&&0===r.length?null:(0,a.jsxs)("div",{className:`jsx-9cfac9300197ac37 validation-messages ${t}`,children:[e.length>0&&a.jsx("div",{className:"jsx-9cfac9300197ac37 errors",children:e.map((e,r)=>(0,a.jsxs)("div",{className:"jsx-9cfac9300197ac37 error-message",children:["⚠️ ",e]},r))}),r.length>0&&a.jsx("div",{className:"jsx-9cfac9300197ac37 warnings",children:r.map((e,r)=>(0,a.jsxs)("div",{className:"jsx-9cfac9300197ac37 warning-message",children:["\uD83D\uDCA1 ",e]},r))}),a.jsx(n(),{id:"9cfac9300197ac37",children:".validation-messages.jsx-9cfac9300197ac37{margin-top:4px;font-size:14px}.error-message.jsx-9cfac9300197ac37{color:#dc2626;margin-bottom:2px}.warning-message.jsx-9cfac9300197ac37{color:#d97706;margin-bottom:2px}.errors.jsx-9cfac9300197ac37+.warnings.jsx-9cfac9300197ac37{margin-top:8px}"})]})},2590:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{A:()=>x});var i=t(997),n=t(9816),s=t.n(n),o=t(6689),l=t(6187),d=t(5171),c=e([l]);l=(c.then?(await c)():c)[0];let x=({value:e,onChange:r,label:t="Weeks",className:a="",maxWeeks:n=52})=>{let[c,x]=(0,o.useState)({isValid:!0,errors:[],warnings:[]});(0,o.useEffect)(()=>{let r=(0,l.eN)(e,n);x(r)},[e,n]);let b=e=>{r(e)};return(0,i.jsxs)("div",{className:`jsx-8f7e859480fc3be5 weeks-input ${a}`,children:[i.jsx("label",{className:"jsx-8f7e859480fc3be5",children:t}),(0,i.jsxs)("div",{className:"jsx-8f7e859480fc3be5 input-container",children:[i.jsx("input",{type:"number",min:1,max:52,value:e,onChange:e=>{let t=parseInt(e.target.value)||1;r(t)},className:`jsx-8f7e859480fc3be5 number-input ${c.errors.length>0?"error":""}`}),(0,i.jsxs)("div",{className:"jsx-8f7e859480fc3be5 quick-buttons",children:[i.jsx("button",{type:"button",onClick:()=>b(4),className:`jsx-8f7e859480fc3be5 quick-btn ${4===e?"active":""}`,children:"1 Month"}),i.jsx("button",{type:"button",onClick:()=>b(8),className:`jsx-8f7e859480fc3be5 quick-btn ${8===e?"active":""}`,children:"2 Months"}),i.jsx("button",{type:"button",onClick:()=>b(13),className:`jsx-8f7e859480fc3be5 quick-btn ${13===e?"active":""}`,children:"Quarter"})]})]}),i.jsx(d.y,{errors:c.errors,warnings:c.warnings}),i.jsx(s(),{id:"8f7e859480fc3be5",children:".weeks-input.jsx-8f7e859480fc3be5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.input-container.jsx-8f7e859480fc3be5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}.number-input.jsx-8f7e859480fc3be5{padding:8px 12px;border:1px solid#d1d5db;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;width:100%}.number-input.error.jsx-8f7e859480fc3be5{border-color:#dc2626;background-color:#fef2f2}.number-input.jsx-8f7e859480fc3be5:focus{outline:none;border-color:#3b82f6;-webkit-box-shadow:0 0 0 2px rgba(59,130,246,.1);-moz-box-shadow:0 0 0 2px rgba(59,130,246,.1);box-shadow:0 0 0 2px rgba(59,130,246,.1)}.quick-buttons.jsx-8f7e859480fc3be5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:4px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.quick-btn.jsx-8f7e859480fc3be5{padding:4px 8px;background:#f3f4f6;border:1px solid#d1d5db;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;cursor:pointer;white-space:nowrap}.quick-btn.jsx-8f7e859480fc3be5:hover{background:#e5e7eb}.quick-btn.active.jsx-8f7e859480fc3be5{background:#3b82f6;color:white;border-color:#3b82f6}label.jsx-8f7e859480fc3be5{font-weight:500;margin-bottom:4px;display:block}"})]})};a()}catch(e){a(e)}})},6187:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{ci:()=>h,eN:()=>y,fp:()=>j,hA:()=>g,mY:()=>w,zX:()=>k});var i=t(9926),n=e([i]);i=(n.then?(await n)():n)[0];let s=e=>{let r=e.trim();return/^[a-zA-ZÀ-ÿ\s\-'\.]+$/.test(r)&&r.length>0},o=e=>{try{let r=new Date(e);return!isNaN(r.getTime())&&0===r.getDay()}catch{return!1}},l=e=>{let r=e.map(e=>e.trim().toLowerCase());return new Set(r).size===r.length},d=e=>e.trim().replace(/\s+/g," "),c=e=>{let r=[],t=e.map(e=>d(e).toLowerCase());for(let a=0;a<t.length;a++)for(let i=a+1;i<t.length;i++){let n=t[a],s=t[i];n===s?r.push(`"${e[a]}" and "${e[i]}" are identical when normalized`):x(n,s)>.8&&r.push(`"${e[a]}" and "${e[i]}" are very similar - possible duplicates?`)}return r},x=(e,r)=>{let t=e.length>r.length?e:r,a=e.length>r.length?r:e;if(0===t.length)return 1;let i=b(t,a);return(t.length-i)/t.length},b=(e,r)=>{let t=Array(r.length+1).fill(null).map(()=>Array(e.length+1).fill(null));for(let r=0;r<=e.length;r++)t[0][r]=r;for(let e=0;e<=r.length;e++)t[e][0]=e;for(let a=1;a<=r.length;a++)for(let i=1;i<=e.length;i++){let n=e[i-1]===r[a-1]?0:1;t[a][i]=Math.min(t[a][i-1]+1,t[a-1][i]+1,t[a-1][i-1]+n)}return t[r.length][e.length]},u=i.z.object({engineer:i.z.string().min(1,"Engineer name is required").max(100,"Engineer name too long").refine(s,"Engineer name contains invalid characters"),date:i.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),reason:i.z.string().max(200,"Reason too long").optional().default("")}),f=i.z.object({weekend:i.z.number().int().min(0).max(5).default(0),chat:i.z.number().int().min(0).max(5).default(0),oncall:i.z.number().int().min(0).max(5).default(1),appointments:i.z.number().int().min(0).max(5).default(2),early:i.z.number().int().min(0).max(5).default(0)}),p=i.z.object({engineers:i.z.array(i.z.string().min(1,"Engineer name cannot be empty")).length(6,"Exactly 6 engineers are required").refine(e=>e.every(e=>s(e.trim())),"All engineer names must contain only letters, spaces, hyphens, apostrophes, and basic diacritics").refine(l,"Engineer names must be unique (case-insensitive)").transform(e=>e.map(e=>d(e))),start_sunday:i.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(o,"Start date must be a Sunday"),weeks:i.z.number().int("Weeks must be a whole number").min(1,"At least 1 week required").max(52,"Maximum 52 weeks allowed"),seeds:f.default({}),leave:i.z.array(u).default([]),format:i.z.enum(["csv","xlsx","json"]).default("csv")}),m=i.z.object({name:i.z.string().min(1,"Engineer name is required"),status:i.z.enum(["WORK","OFF","LEAVE",""]).default(""),shift:i.z.string().default("")});i.z.object({date:i.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format"),day:i.z.enum(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]),week_index:i.z.number().int().min(0),early1:i.z.string().default(""),early2:i.z.string().default(""),chat:i.z.string().default(""),oncall:i.z.string().default(""),appointments:i.z.string().default(""),engineers:i.z.array(m)});let g=e=>{try{let r=e.split(",").map(e=>e.trim()).filter(Boolean);if(6!==r.length)return{isValid:!1,errors:[`Expected exactly 6 engineers, got ${r.length}`],warnings:[]};let t=r.filter(e=>!s(e));if(t.length>0)return{isValid:!1,errors:[`Invalid engineer names: ${t.join(", ")}`],warnings:[]};if(!l(r))return{isValid:!1,errors:["Engineer names must be unique (case-insensitive)"],warnings:[]};let a=c(r),i=r.map(e=>d(e));return{isValid:!0,errors:[],warnings:a,data:i}}catch(e){return{isValid:!1,errors:["Failed to parse engineer names"],warnings:[]}}},w=e=>{try{if(!e)return{isValid:!1,errors:["Date is required"],warnings:[]};if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return{isValid:!1,errors:["Date must be in YYYY-MM-DD format"],warnings:[]};let r=new Date(e);if(isNaN(r.getTime()))return{isValid:!1,errors:["Invalid date"],warnings:[]};let t=[];if(!o(e)){let r=h(e);t.push(`Date is not a Sunday. Suggested: ${r}`)}return{isValid:!0,errors:[],warnings:t,data:e}}catch{return{isValid:!1,errors:["Invalid date format"],warnings:[]}}},h=e=>{try{let r=new Date(e),t=r.getDay();if(0===t)return e;let a=new Date(r);return a.setDate(r.getDate()-t),a.toISOString().split("T")[0]}catch{return e}},j=e=>{try{let r=new Date(e),t=r.getDay();if(0===t)return e;let a=new Date(r);return a.setDate(r.getDate()+(7-t)),a.toISOString().split("T")[0]}catch{return e}},y=(e,r=52)=>{if(!Number.isInteger(e))return{isValid:!1,errors:["Weeks must be a whole number"],warnings:[]};if(e<1)return{isValid:!1,errors:["At least 1 week is required"],warnings:[]};if(e>r)return{isValid:!1,errors:[`Maximum ${r} weeks allowed`],warnings:[]};let t=[];return e>26&&t.push("Generating more than 26 weeks may take longer to process"),{isValid:!0,errors:[],warnings:t,data:e}},k=e=>{try{let r=p.parse(e);return{isValid:!0,errors:[],warnings:[],data:r}}catch(e){if(e instanceof i.z.ZodError)return{isValid:!1,errors:e.errors.map(e=>`${e.path.join(".")}: ${e.message}`),warnings:[]};return{isValid:!1,errors:["Unknown validation error"],warnings:[]}}};a()}catch(e){a(e)}})},6814:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});var a=t(997),i=t(1649);function n({Component:e,pageProps:{session:r,...t}}){return a.jsx(i.SessionProvider,{session:r,children:a.jsx(e,{...t})})}}};